{"version":3,"file":"L.DNC.min.js","sources":["L.DNC.js"],"names":["DNC","version","module","exports","window","L","MenuBar","Class","extend","includes","Mixin","Events","initialize","options","setOptions","this","children","domElement","_buildDomElement","addChild","child","target","appendChild","parent","push","addTo","parentDomElement","document","createElement","AppController","statics","mapView","MapView","dropzone","DropZone","_map","layerlist","LayerList","layerContainerId","menuBar","getElementById","Menu","TurfOperation","maxFeatures","additionalArgs","icon","minFeatures","notification","Notifications","_addEventHandlers","fileReader","on","_handleParsedFile","bind","_handleTurfResults","e","mapLayer","mapbox","featureLayer","file","addLayerToList","fileInfo","name","numLayers","add","text","type","time","layerName","isOverlay","getLayerSelection","selection","list","TYPE","map","FileReader","enable","Handler","_container","body","_enabled","prototype","call","fire","disable","addHooks","DomEvent","_handleDragOver","_handleDragLeave","_handleDrop","removeHooks","off","event","preventDefault","className","files","dataTransfer","_handleFiles","i","length","_readFile","fileObject","reader","readAsText","onload","JSON","parse","result","Control","autoZIndex","zoomToExtentOnAdd","_layers","_lastZIndex","_handlingClick","layerContainer","DomUtil","get","l","remove","_leaflet_id","layer","splice","_initLayout","create","setAttribute","onAdd","_update","parentElement","removeChild","onRemove","overlay","id","stamp","setZIndex","bounds","getBounds","fitBounds","removeLayerFromList","obj","hasLayer","addLayer","_addItem","inputEl","onchange","_handleLayerChange","layerItem","innerHTML","onclick","_handleLayerClick","li","checked","removeLayer","currentTarget","indexOf","info","_setupMap","accessToken","zoomControl","setView","title","getElementsByClassName","constructor","__super__","menuClick","menuExpand","querySelector","openMenus","replace","addEventListener","menu","Operation","execute","div","console","error","orderImport","layers","app","_validate","prepared_args","_prepareArgs","objects","newLayer","geometry","turf","apply","features","_unCollect","eventExtras","Error","slice","layer_objs","_geojson","layer_names","layer_names_str","split","reduce","a","b","feature","hub","params","note","_this","setTimeout","firstChild"],"mappings":"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"}