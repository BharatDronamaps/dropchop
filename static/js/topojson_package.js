!function n(t,r,e){function o(a,u){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!u&&c)return c(a,!0);if(i)return i(a,!0);var f=new Error("Cannot find module '"+a+"'");throw f.code="MODULE_NOT_FOUND",f}var s=r[a]={exports:{}};t[a][0].call(s.exports,function(n){var r=t[a][1][n];return o(r?r:n)},s,s.exports,n,t,r,e)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<e.length;a++)o(e[a]);return o}({1:[function(n,t,r){window.topojson={topology:n("../node_modules/topojson/lib/topojson/topology"),client:n("../node_modules/topojson/build/topojson.js")}},{"../node_modules/topojson/build/topojson.js":3,"../node_modules/topojson/lib/topojson/topology":15}],2:[function(n,t,r){function e(){h&&s&&(h=!1,s.length?l=s.concat(l):p=-1,l.length&&o())}function o(){if(!h){var n=u.call(null,e);h=!0;for(var t=l.length;t;){for(s=l,l=[];++p<t;)s&&s[p].run();p=-1,t=l.length}s=null,h=!1,c.call(null,n)}}function i(n,t){this.fun=n,this.array=t}function a(){}var u,c,f=t.exports={};!function(){try{u=setTimeout}catch(n){u=function(){throw new Error("setTimeout is not defined")}}try{c=clearTimeout}catch(n){c=function(){throw new Error("clearTimeout is not defined")}}}();var s,l=[],h=!1,p=-1;f.nextTick=function(n){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new i(n,t)),1!==l.length||h||u.call(null,o,0)},i.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=a,f.addListener=a,f.once=a,f.off=a,f.removeListener=a,f.removeAllListeners=a,f.emit=a,f.binding=function(n){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(n){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},{}],3:[function(n,t,r){!function(n,e){"object"==typeof r&&"undefined"!=typeof t?e(r):"function"==typeof define&&define.amd?define(["exports"],e):e(n.topojson=n.topojson||{})}(this,function(n){"use strict";function t(){}function r(n){if(!n)return t;var r,e,o=n.scale[0],i=n.scale[1],a=n.translate[0],u=n.translate[1];return function(n,t){t||(r=e=0),n[0]=(r+=n[0])*o+a,n[1]=(e+=n[1])*i+u}}function e(n){if(!n)return t;var r,e,o=n.scale[0],i=n.scale[1],a=n.translate[0],u=n.translate[1];return function(n,t){t||(r=e=0);var c=Math.round((n[0]-a)/o),f=Math.round((n[1]-u)/i);n[0]=c-r,n[1]=f-e,r=c,e=f}}function o(n,t){for(var r,e=n.length,o=e-t;o<--e;)r=n[o],n[o++]=n[e],n[e]=r}function i(n,t){for(var r=0,e=n.length;r<e;){var o=r+e>>>1;n[o]<t?r=o+1:e=o}return r}function a(n,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return u(n,t)})}:u(n,t)}function u(n,t){var r={type:"Feature",id:t.id,properties:t.properties||{},geometry:c(n,t)};return null==t.id&&delete r.id,r}function c(n,t){function e(n,t){t.length&&t.pop();for(var r,e=l[n<0?~n:n],i=0,a=e.length;i<a;++i)t.push(r=e[i].slice()),s(r,i);n<0&&o(t,a)}function i(n){return n=n.slice(),s(n,0),n}function a(n){for(var t=[],r=0,o=n.length;r<o;++r)e(n[r],t);return t.length<2&&t.push(t[0].slice()),t}function u(n){for(var t=a(n);t.length<4;)t.push(t[0].slice());return t}function c(n){return n.map(u)}function f(n){var t=n.type;return"GeometryCollection"===t?{type:t,geometries:n.geometries.map(f)}:t in h?{type:t,coordinates:h[t](n)}:null}var s=r(n.transform),l=n.arcs,h={Point:function(n){return i(n.coordinates)},MultiPoint:function(n){return n.coordinates.map(i)},LineString:function(n){return a(n.arcs)},MultiLineString:function(n){return n.arcs.map(a)},Polygon:function(n){return c(n.arcs)},MultiPolygon:function(n){return n.arcs.map(c)}};return f(t)}function f(n,t){function r(t){var r,e=n.arcs[t<0?~t:t],o=e[0];return n.transform?(r=[0,0],e.forEach(function(n){r[0]+=n[0],r[1]+=n[1]})):r=e[e.length-1],t<0?[r,o]:[o,r]}function e(n,t){for(var r in n){var e=n[r];delete t[e.start],delete e.start,delete e.end,e.forEach(function(n){o[n<0?~n:n]=1}),u.push(e)}}var o={},i={},a={},u=[],c=-1;return t.forEach(function(r,e){var o,i=n.arcs[r<0?~r:r];i.length<3&&!i[1][0]&&!i[1][1]&&(o=t[++c],t[c]=r,t[e]=o)}),t.forEach(function(n){var t,e,o=r(n),u=o[0],c=o[1];if(t=a[u])if(delete a[t.end],t.push(n),t.end=c,e=i[c]){delete i[e.start];var f=e===t?t:t.concat(e);i[f.start=t.start]=a[f.end=e.end]=f}else i[t.start]=a[t.end]=t;else if(t=i[c])if(delete i[t.start],t.unshift(n),t.start=u,e=a[u]){delete a[e.end];var s=e===t?t:e.concat(t);i[s.start=e.start]=a[s.end=t.end]=s}else i[t.start]=a[t.end]=t;else t=[n],i[t.start=u]=a[t.end=c]=t}),e(a,i),e(i,a),t.forEach(function(n){o[n<0?~n:n]||u.push([n])}),u}function s(n){return c(n,l.apply(this,arguments))}function l(n,t,r){function e(n){var t=n<0?~n:n;(s[t]||(s[t]=[])).push({i:n,g:c})}function o(n){n.forEach(e)}function i(n){n.forEach(o)}function a(n){"GeometryCollection"===n.type?n.geometries.forEach(a):n.type in l&&(c=n,l[n.type](n.arcs))}var u=[];if(arguments.length>1){var c,s=[],l={LineString:o,MultiLineString:i,Polygon:i,MultiPolygon:function(n){n.forEach(i)}};a(t),s.forEach(arguments.length<3?function(n){u.push(n[0].i)}:function(n){r(n[0].g,n[n.length-1].g)&&u.push(n[0].i)})}else for(var h=0,p=n.arcs.length;h<p;++h)u.push(h);return{type:"MultiLineString",arcs:f(n,u)}}function h(n){var t=n[0],r=n[1],e=n[2];return Math.abs((t[0]-e[0])*(r[1]-t[1])-(t[0]-r[0])*(e[1]-t[1]))}function p(n){for(var t,r=-1,e=n.length,o=n[e-1],i=0;++r<e;)t=o,o=n[r],i+=t[0]*o[1]-t[1]*o[0];return i/2}function g(n){return c(n,v.apply(this,arguments))}function v(n,t){function r(n){n.forEach(function(t){t.forEach(function(t){(o[t=t<0?~t:t]||(o[t]=[])).push(n)})}),i.push(n)}function e(t){return Math.abs(p(c(n,{type:"Polygon",arcs:[t]}).coordinates[0]))}var o={},i=[],a=[];return t.forEach(function(n){"Polygon"===n.type?r(n.arcs):"MultiPolygon"===n.type&&n.arcs.forEach(r)}),i.forEach(function(n){if(!n._){var t=[],r=[n];for(n._=1,a.push(t);n=r.pop();)t.push(n),n.forEach(function(n){n.forEach(function(n){o[n<0?~n:n].forEach(function(n){n._||(n._=1,r.push(n))})})})}}),i.forEach(function(n){delete n._}),{type:"MultiPolygon",arcs:a.map(function(t){var r,i=[];if(t.forEach(function(n){n.forEach(function(n){n.forEach(function(n){o[n<0?~n:n].length<2&&i.push(n)})})}),i=f(n,i),(r=i.length)>1)for(var a,u,c=1,s=e(i[0]);c<r;++c)(a=e(i[c]))>s&&(u=i[0],i[0]=i[c],i[c]=u,s=a);return i})}}function d(n){function t(n,t){n.forEach(function(n){n<0&&(n=~n);var r=o[n];r?r.push(t):o[n]=[t]})}function r(n,r){n.forEach(function(n){t(n,r)})}function e(n,t){"GeometryCollection"===n.type?n.geometries.forEach(function(n){e(n,t)}):n.type in u&&u[n.type](n.arcs,t)}var o={},a=n.map(function(){return[]}),u={LineString:t,MultiLineString:r,Polygon:r,MultiPolygon:function(n,t){n.forEach(function(n){r(n,t)})}};n.forEach(e);for(var c in o)for(var f=o[c],s=f.length,l=0;l<s;++l)for(var h=l+1;h<s;++h){var p,g=f[l],v=f[h];(p=a[g])[c=i(p,v)]!==v&&p.splice(c,0,v),(p=a[v])[c=i(p,g)]!==g&&p.splice(c,0,g)}return a}function y(n,t){return n[1][2]-t[1][2]}function m(){function n(n,t){for(;t>0;){var r=(t+1>>1)-1,o=e[r];if(y(n,o)>=0)break;e[o._=t]=o,e[n._=t=r]=n}}function t(n,t){for(;;){var r=t+1<<1,i=r-1,a=t,u=e[a];if(i<o&&y(e[i],u)<0&&(u=e[a=i]),r<o&&y(e[r],u)<0&&(u=e[a=r]),a===t)break;e[u._=t]=u,e[n._=t=a]=n}}var r={},e=[],o=0;return r.push=function(t){return n(e[t._=o]=t,o++),o},r.pop=function(){if(!(o<=0)){var n,r=e[0];return--o>0&&(n=e[o],t(e[n._=0]=n,0)),r}},r.remove=function(r){var i,a=r._;if(e[a]===r)return a!==--o&&(i=e[o],(y(i,r)<0?n:t)(e[i._=a]=i,a)),a},r}function M(n,t){function o(n){u.remove(n),n[1][2]=t(n),u.push(n)}var i=r(n.transform),a=e(n.transform),u=m();return t||(t=h),n.arcs.forEach(function(n){var r,e,c,f,s=[],l=0;for(e=0,c=n.length;e<c;++e)f=n[e],i(n[e]=[f[0],f[1],1/0],e);for(e=1,c=n.length-1;e<c;++e)r=n.slice(e-1,e+2),r[1][2]=t(r),s.push(r),u.push(r);for(e=0,c=s.length;e<c;++e)r=s[e],r.previous=s[e-1],r.next=s[e+1];for(;r=u.pop();){var h=r.previous,p=r.next;r[1][2]<l?r[1][2]=l:l=r[1][2],h&&(h.next=p,h[2]=r[2],o(h)),p&&(p.previous=h,p[0]=r[0],o(p))}n.forEach(a)}),n}var w="1.6.26";n.version=w,n.mesh=s,n.meshArcs=l,n.merge=g,n.mergeArcs=v,n.feature=a,n.neighbors=d,n.presimplify=M})},{}],4:[function(n,t,r){t.exports=function(n){function t(n){n&&f.hasOwnProperty(n.type)&&f[n.type](n)}function r(n){var t=n[0],r=n[1];t<i&&(i=t),t>u&&(u=t),r<a&&(a=r),r>c&&(c=r)}function e(n){n.forEach(r)}function o(n){n.forEach(e)}var i=1/0,a=1/0,u=-(1/0),c=-(1/0),f={GeometryCollection:function(n){n.geometries.forEach(t)},Point:function(n){r(n.coordinates)},MultiPoint:function(n){n.coordinates.forEach(r)},LineString:function(n){e(n.coordinates)},MultiLineString:function(n){n.coordinates.forEach(e)},Polygon:function(n){n.coordinates.forEach(e)},MultiPolygon:function(n){n.coordinates.forEach(o)}};for(var s in n)t(n[s]);return[i,a,u,c]}},{}],5:[function(n,t,r){function e(n){return n.toString()}function o(n){for(var t,r=-1,e=n.length,o=n[e-1],i=0;++r<e;)t=o,o=n[r],i+=t[0]*o[1]-t[1]*o[0];return.5*i}function i(n){return Math.abs((n[0][0]-n[2][0])*(n[1][1]-n[0][1])-(n[0][0]-n[1][0])*(n[2][1]-n[0][1]))}function a(n,t,r,e){var o=n-r,i=t-e;return Math.sqrt(o*o+i*i)}r.name="cartesian",r.formatDistance=e,r.ringArea=o,r.absoluteArea=Math.abs,r.triangleArea=i,r.distance=a},{}],6:[function(n,t,r){t.exports=function(n,t){function r(n){n&&o.hasOwnProperty(n.type)&&o[n.type](n)}function e(n){var r=t(n);null==r?delete n.id:n.id=r}arguments.length<2&&(t=function(n){return n.id});var o={Feature:e,FeatureCollection:function(n){n.features.forEach(e)}};for(var i in n)r(n[i]);return n}},{}],7:[function(n,t,r){t.exports={cartesian:n("./cartesian"),spherical:n("./spherical")}},{"./cartesian":5,"./spherical":13}],8:[function(n,t,r){t.exports=function(n){for(var t=n.arcs,r=-1,e=t.length;++r<e;)for(var o,i,a=t[r],u=0,c=a.length,f=a[0],s=f[0],l=f[1];++u<c;)f=a[u],o=f[0],i=f[1],a[u]=[o-s,i-l],s=o,l=i;return n}},{}],9:[function(n,t,r){t.exports=function(n){function t(n){return(n&&o.hasOwnProperty(n.type)?o[n.type]:e)(n)}function r(n){var t=n.geometry;return null==t?n.type=null:(e(t),n.type=t.type,t.geometries?n.geometries=t.geometries:t.coordinates&&(n.coordinates=t.coordinates)),delete n.geometry,n}function e(n){return n?(i.hasOwnProperty(n.type)&&i[n.type](n),n):{type:null}}var o={Feature:r,FeatureCollection:function(n){return n.type="GeometryCollection",n.geometries=n.features,n.features.forEach(r),delete n.features,n}},i={GeometryCollection:function(n){for(var t=n.geometries,r=-1,o=t.length;++r<o;)t[r]=e(t[r])},MultiPoint:function(n){n.coordinates.length?n.coordinates.length<2&&(n.type="Point",n.coordinates=n.coordinates[0]):(n.type=null,delete n.coordinates)},LineString:function(n){n.coordinates.length||(n.type=null,delete n.coordinates)},MultiLineString:function(n){for(var t=n.coordinates,r=0,e=0,o=t.length;r<o;++r){var i=t[r];i.length&&(t[e++]=i)}e?e<2?(n.type="LineString",n.coordinates=t[0]):n.coordinates.length=e:(n.type=null,delete n.coordinates)},Polygon:function(n){for(var t=n.coordinates,r=0,e=0,o=t.length;r<o;++r){var i=t[r];i.length&&(t[e++]=i)}e?n.coordinates.length=e:(n.type=null,delete n.coordinates)},MultiPolygon:function(n){for(var t=n.coordinates,r=0,e=0,o=t.length;r<o;++r){for(var i=t[r],a=0,u=0,c=i.length;a<c;++a){var f=i[a];f.length&&(i[u++]=f)}u&&(i.length=u,t[e++]=i)}e?e<2?(n.type="Polygon",n.coordinates=t[0]):t.length=e:(n.type=null,delete n.coordinates)}};for(var a in n)n[a]=t(n[a]);return n}},{}],10:[function(n,t,r){var e=n("./quantize");t.exports=function(n,t,r){function o(n){n&&g.hasOwnProperty(n.type)&&g[n.type](n)}if(t){if(r===t||!n.bbox.every(isFinite))return n;var i=r/t,a=e(0,0,i,i);n.transform.scale[0]/=i,n.transform.scale[1]/=i}else{var u=n.bbox,c=isFinite(u[0])?u[0]:0,f=isFinite(u[1])?u[1]:0,s=isFinite(u[2])?u[2]:0,l=isFinite(u[3])?u[3]:0,h=s-c?(r-1)/(s-c):1,p=l-f?(r-1)/(l-f):1,a=e(-c,-f,h,p);n.transform=a.transform}var g={GeometryCollection:function(n){n.geometries.forEach(o)},Point:function(n){a.point(n.coordinates)},MultiPoint:function(n){n.coordinates.forEach(a.point)}};for(var v in n.objects)o(n.objects[v]);return n.arcs=n.arcs.map(function(n){return a.line(n=n.map(function(n){return n.slice()})),n.length<2&&n.push(n[0]),n}),n}},{"./quantize":12}],11:[function(n,t,r){var e=n("./quantize");t.exports=function(n,t,r,o){function i(n){n&&p.hasOwnProperty(n.type)&&p[n.type](n)}arguments.length<4&&(o=r);var a=isFinite(t[0])?t[0]:0,u=isFinite(t[1])?t[1]:0,c=isFinite(t[2])?t[2]:0,f=isFinite(t[3])?t[3]:0,s=c-a?(o-1)/(c-a)*r/o:1,l=f-u?(o-1)/(f-u)*r/o:1,h=e(-a,-u,s,l),p={GeometryCollection:function(n){n.geometries.forEach(i)},Point:function(n){h.point(n.coordinates)},MultiPoint:function(n){n.coordinates.forEach(h.point)},LineString:function(n){var t=n.coordinates;h.line(t),t.length<2&&(t[1]=t[0])},MultiLineString:function(n){for(var t=n.coordinates,r=0,e=t.length;r<e;++r){var o=t[r];h.line(o),o.length<2&&(o[1]=o[0])}},Polygon:function(n){for(var t=n.coordinates,r=0,e=t.length;r<e;++r){var o=t[r];for(h.line(o);o.length<4;)o.push(o[0])}},MultiPolygon:function(n){for(var t=n.coordinates,r=0,e=t.length;r<e;++r)for(var o=t[r],i=0,a=o.length;i<a;++i){var u=o[i];for(h.line(u);u.length<4;)u.push(u[0])}}};for(var g in n)i(n[g]);return h.transform}},{"./quantize":12}],12:[function(n,t,r){t.exports=function(n,t,r,e){function o(o){return o[0]=Math.round((o[0]+n)*r),o[1]=Math.round((o[1]+t)*e),o}function i(n){for(var t,r,e,i=0,a=1,u=n.length,c=o(n[0]),f=c[0],s=c[1];++i<u;)c=o(n[i]),r=c[0],e=c[1],r===f&&e===s||(t=n[a++],t[0]=f=r,t[1]=s=e);n.length=a}return{point:o,line:i,transform:{scale:[1/r,1/e],translate:[-n,-t]}}}},{}],13:[function(n,t,r){function e(n){var t=n*h*6371;return(t>1?t.toFixed(3)+"km":(1e3*t).toPrecision(3)+"m")+" ("+n.toPrecision(3)+"°)"}function o(n){if(!n.length)return 0;for(var t=0,r=n[0],e=r[0]*h,o=r[1]*h/2+l,i=e,a=Math.cos(o),u=Math.sin(o),c=1,f=n.length;c<f;++c){r=n[c],e=r[0]*h,o=r[1]*h/2+l;var p=e-i,g=Math.cos(o),v=Math.sin(o),d=u*v,y=a*g+d*Math.cos(p),m=d*Math.sin(p);t+=Math.atan2(m,y),i=e,a=g,u=v}return 2*(t>s?t-2*s:t<-s?t+2*s:t)}function i(n){return n<0?n+4*s:n}function a(n){var t=u(n[0],n[1]),r=u(n[1],n[2]),e=u(n[2],n[0]),o=(t+r+e)/2;return 4*Math.atan(Math.sqrt(Math.max(0,Math.tan(o/2)*Math.tan((o-t)/2)*Math.tan((o-r)/2)*Math.tan((o-e)/2))))}function u(n,t){var r,e=(t[0]-n[0])*h,o=Math.sin(e),i=Math.cos(e),a=Math.sin(n[1]*h),u=Math.cos(n[1]*h),c=Math.sin(t[1]*h),f=Math.cos(t[1]*h);return Math.atan2(Math.sqrt((r=f*o)*r+(r=u*c-a*f*i)*r),a*c+u*f*i)}function c(n,t,r,e){return n*=h,t*=h,r*=h,e*=h,2*Math.asin(Math.sqrt(f(e-t)+Math.cos(t)*Math.cos(e)*f(r-n)))}function f(n){return(n=Math.sin(n/2))*n}var s=Math.PI,l=s/4,h=s/180;r.name="spherical",r.formatDistance=e,r.ringArea=o,r.absoluteArea=i,r.triangleArea=a,r.distance=c},{}],14:[function(n,t,r){var e=n("./type");t.exports=function(n,t){function r(n){return n<=l?[0,s]:n>=p?[0,h]:[a,n]}function o(n){for(var t=[],e=0,o=n.length;e<o;++e){for(var i=n[e],a=0,c=i.length;a<c;++a){var s=i[a];s.polygon=i,t.push(s);for(var h=0,g=s.length;h<g;++h){var v=s[h],d=v[0],y=v[1];if(d<=u||d>=f||y<=l||y>=p){for(var m=h+1;m<g;++m){var M=s[m],w=M[0],E=M[1];if(w>u&&w<f&&E>l&&E<p)break}if(m===h+1)continue;if(h){var x=s.slice(0,h+1);x.polygon=i,x[x.length-1]=r(y),t[t.length-1]=x}else t.pop();if(m>=g)break;t.push(s=s.slice(m-1)),s[0]=r(s[0][1]),s.polygon=i,h=-1,g=s.length}}}i.length=0}for(var P={},b={},h=0,g=t.length;h<g;++h){var q=t[h],L=q[0],j=q[q.length-1];L[0]!==j[0]||L[1]!==j[1]?(q.index=h,P[L]=b[j]=q):(q.polygon.push(q),t[h]=null)}for(var h=0;h<g;++h){var q=t[h];if(q){var L=q[0],j=q[q.length-1],F=b[L],S=P[j];if(delete P[L],delete b[j],L[0]===j[0]&&L[1]===j[1]){q.polygon.push(q);continue}F?(delete b[L],delete P[F[0]],F.pop(),t[F.index]=null,q=F.concat(q),q.polygon=F.polygon,F===S?q.polygon.push(q):(q.index=g++,t.push(P[q[0]]=b[q[q.length-1]]=q))):S?(delete P[j],delete b[S[S.length-1]],q.pop(),q=q.concat(S),q.polygon=S.polygon,q.index=g++,t[S.index]=null,t.push(P[q[0]]=b[q[q.length-1]]=q)):(q.push(q[0]),q.polygon.push(q))}}}var i=.01,a=-180,u=a+i,c=180,f=c-i,s=-90,l=s+i,h=90,p=h-i;if(t){var g=t.scale[0],v=t.scale[1],d=t.translate[0],y=t.translate[1];a=Math.round((a-d)/g),c=Math.round((c-d)/g),s=Math.round((s-y)/v),h=Math.round((h-y)/v),u=Math.round((u-d)/g),f=Math.round((f-d)/g),l=Math.round((l-y)/v),p=Math.round((p-y)/v)}var m=e({Polygon:function(n){o([n.coordinates])},MultiPolygon:function(n){o(n.coordinates)}});for(var M in n)m.object(n[M])}},{"./type":26}],15:[function(n,t,r){(function(r){var e=(n("./type"),n("./stitch")),o=n("./coordinate-systems"),i=n("./topology/index"),a=n("./delta"),u=n("./geomify"),c=n("./pre-quantize"),f=n("./post-quantize"),s=n("./bounds"),l=n("./compute-id"),h=n("./transform-properties"),p=1e-6;t.exports=function(n,t){var g,v=1e4,d=1e4,y=function(n){return n.id},m=function(){},M=0,w=!0,E=!1,x=null;if(t&&("verbose"in t&&(E=!!t.verbose),"stitch-poles"in t&&(w=!!t["stitch-poles"]),"coordinate-system"in t&&(x=o[t["coordinate-system"]]),"minimum-area"in t&&(M=+t["minimum-area"]),"quantization"in t&&(v=d=+t.quantization),"pre-quantization"in t&&(v=+t["pre-quantization"]),"post-quantization"in t&&(d=+t["post-quantization"]),"id"in t&&(y=t.id),"property-transform"in t&&(m=t["property-transform"])),v/d%1)throw new Error("post-quantization is not a divisor of pre-quantization");if(v&&!d)throw new Error("post-quantization is required when input is already quantized");l(n,y),h(n,m),u(n);var P=s(n),b=P[0]<-180-p||P[1]<-90-p||P[2]>180+p||P[3]>90+p;if(x||(x=o[b?"cartesian":"spherical"],t&&(t["coordinate-system"]=x.name)),x===o.spherical){if(b)throw new Error("spherical coordinates outside of [±180°, ±90°]");P[0]<-180+p&&(P[0]=-180),P[1]<-90+p&&(P[1]=-90),P[2]>180-p&&(P[2]=180),P[3]>90-p&&(P[3]=90)}E&&r.stderr.write("bounds: "+P.join(" ")+" ("+x.name+")\n"),v&&(g=c(n,P,v,d),E&&r.stderr.write("pre-quantization: "+g.scale.map(function(n){return x.formatDistance(n)}).join(" ")+"\n")),x===o.spherical&&w&&e(n,g);var q=i(n);return v&&(q.transform=g),q.bbox=P,E&&r.stderr.write("topology: "+q.arcs.length+" arcs, "+q.arcs.reduce(function(n,t){return n+t.length},0)+" points\n"),d&&d!==v&&(f(q,v,d),g=q.transform,E&&r.stderr.write("post-quantization: "+g.scale.map(function(n){return x.formatDistance(n)}).join(" ")+"\n")),d&&a(q),q}}).call(this,n("_process"))},{"./bounds":4,"./compute-id":6,"./coordinate-systems":7,"./delta":8,"./geomify":9,"./post-quantize":10,"./pre-quantize":11,"./stitch":14,"./topology/index":21,"./transform-properties":25,"./type":26,_process:2}],16:[function(n,t,r){function e(n,t,r,e){o(n,t,r),o(n,t,t+e),o(n,t+e,r)}function o(n,t,r){for(var e,o=t+(r-- -t>>1);t<o;++t,--r)e=n[t],n[t]=n[r],n[r]=e}var i=n("./join");t.exports=function(n){for(var t=i(n),r=n.coordinates,o=n.lines,a=n.rings,u=0,c=o.length;u<c;++u)for(var f=o[u],s=f[0],l=f[1];++s<l;)if(t.has(r[s])){var h={0:s,1:f[1]};f[1]=s,f=f.next=h}for(var u=0,c=a.length;u<c;++u)for(var p=a[u],g=p[0],v=g,d=p[1],y=t.has(r[g]);++v<d;)if(t.has(r[v]))if(y){var h={0:v,1:p[1]};p[1]=v,p=p.next=h}else e(r,g,d,d-v),r[d]=r[g],y=!0,v=g;return n}},{"./join":22}],17:[function(n,t,r){var e=(n("./join"),n("./hashmap")),o=n("./point-hash"),i=n("./point-equal");t.exports=function(n){function t(n){var t,r,e,o;if(e=M.get(t=l[n[0]]))for(var i=0,c=e.length;i<c;++i){var f=e[i];if(a(f,n))return n[0]=f[0],void(n[1]=f[1])}if(o=M.get(r=l[n[1]]))for(var i=0,c=o.length;i<c;++i){var s=o[i];if(u(s,n))return n[1]=s[0],void(n[0]=s[1])}e?e.push(n):M.set(t,[n]),o?o.push(n):M.set(r,[n]),w.push(n)}function r(n){var t,r;if(r=M.get(t=l[n[0]]))for(var e=0,o=r.length;e<o;++e){var i=r[e];if(c(i,n))return n[0]=i[0],void(n[1]=i[1]);if(f(i,n))return n[0]=i[1],void(n[1]=i[0])}if(r=M.get(t=l[n[0]+s(n)]))for(var e=0,o=r.length;e<o;++e){var i=r[e];if(c(i,n))return n[0]=i[0],void(n[1]=i[1]);if(f(i,n))return n[0]=i[1],void(n[1]=i[0])}r?r.push(n):M.set(t,[n]),w.push(n)}function a(n,t){var r=n[0],e=t[0],o=n[1],a=t[1];if(r-o!==e-a)return!1;for(;r<=o;++r,++e)if(!i(l[r],l[e]))return!1;return!0}function u(n,t){var r=n[0],e=t[0],o=n[1],a=t[1];if(r-o!==e-a)return!1;for(;r<=o;++r,--a)if(!i(l[r],l[a]))return!1;return!0}function c(n,t){var r=n[0],e=t[0],o=n[1],a=t[1],u=o-r;if(u!==a-e)return!1;for(var c=s(n),f=s(t),h=0;h<u;++h)if(!i(l[r+(h+c)%u],l[e+(h+f)%u]))return!1;return!0}function f(n,t){var r=n[0],e=t[0],o=n[1],a=t[1],u=o-r;if(u!==a-e)return!1;for(var c=s(n),f=u-s(t),h=0;h<u;++h)if(!i(l[r+(h+c)%u],l[a-(h+f)%u]))return!1;return!0}function s(n){for(var t=n[0],r=n[1],e=t,o=e,i=l[e];++e<r;){var a=l[e];(a[0]<i[0]||a[0]===i[0]&&a[1]<i[1])&&(o=e,i=a)}return o-t}var l=n.coordinates,h=n.lines,p=n.rings,g=h.length+p.length;delete n.lines,delete n.rings;for(var v=0,d=h.length;v<d;++v)for(var y=h[v];y=y.next;)++g;for(var v=0,d=p.length;v<d;++v)for(var m=p[v];m=m.next;)++g;for(var M=e(2*g*1.4,o,i),w=n.arcs=[],v=0,d=h.length;v<d;++v){var y=h[v];do t(y);while(y=y.next)}for(var v=0,d=p.length;v<d;++v){var m=p[v];if(m.next){do t(m);while(m=m.next)}else r(m)}return n}},{"./hashmap":19,"./join":22,"./point-equal":23,"./point-hash":24}],18:[function(n,t,r){t.exports=function(n){function t(n){n&&f.hasOwnProperty(n.type)&&f[n.type](n)}function r(n){for(var t=0,r=n.length;t<r;++t)c[++i]=n[t];var e={0:i-r+1,1:i};return a.push(e),e}function e(n){for(var t=0,r=n.length;t<r;++t)c[++i]=n[t];var e={0:i-r+1,1:i};return u.push(e),e}function o(n){return n.map(e)}var i=-1,a=[],u=[],c=[],f={GeometryCollection:function(n){n.geometries.forEach(t)},LineString:function(n){n.arcs=r(n.coordinates),delete n.coordinates},MultiLineString:function(n){n.arcs=n.coordinates.map(r),delete n.coordinates},Polygon:function(n){n.arcs=n.coordinates.map(e),delete n.coordinates},MultiPolygon:function(n){n.arcs=n.coordinates.map(o),delete n.coordinates}};for(var s in n)t(n[s]);return{type:"Topology",coordinates:c,lines:a,rings:u,objects:n}}},{}],19:[function(n,t,r){t.exports=function(n,t,r,e,o,i){function a(e,i){for(var a=t(e)&h,u=s[a],c=0;u!=o;){if(r(u,e))return l[a]=i;if(++c>=n)throw new Error("full hashmap");u=s[a=a+1&h]}return s[a]=e,l[a]=i,--p,i}function u(e,i){for(var a=t(e)&h,u=s[a],c=0;u!=o;){if(r(u,e))return l[a];if(++c>=n)throw new Error("full hashmap");u=s[a=a+1&h]}return s[a]=e,l[a]=i,--p,i}function c(e,i){for(var a=t(e)&h,u=s[a],c=0;u!=o;){if(r(u,e))return l[a];if(++c>=n)break;u=s[a=a+1&h]}return i}function f(){for(var n=[],t=0,r=s.length;t<r;++t){var e=s[t];e!=o&&n.push(e)}return n}3===arguments.length&&(e=i=Array,o=null);for(var s=new e(n=1<<Math.max(4,Math.ceil(Math.log(n)/Math.LN2))),l=new i(n),h=n-1,p=n,g=0;g<n;++g)s[g]=o;return{set:a,maybeSet:u,get:c,keys:f}}},{}],20:[function(n,t,r){t.exports=function(n,t,r,e,o){function i(e){for(var i=t(e)&f,a=c[i],u=0;a!=o;){if(r(a,e))return!0;if(++u>=n)throw new Error("full hashset");a=c[i=i+1&f]}return c[i]=e,--s,!0}function a(e){for(var i=t(e)&f,a=c[i],u=0;a!=o;){if(r(a,e))return!0;if(++u>=n)break;a=c[i=i+1&f]}return!1}function u(){for(var n=[],t=0,r=c.length;t<r;++t){var e=c[t];e!=o&&n.push(e)}return n}3===arguments.length&&(e=Array,o=null);for(var c=new e(n=1<<Math.max(4,Math.ceil(Math.log(n)/Math.LN2))),f=n-1,s=n,l=0;l<n;++l)c[l]=o;return{add:i,has:a,values:u}}},{}],21:[function(n,t,r){function e(n){var t,r=n[0],e=n[1];return e<r&&(t=r,r=e,e=t),r+31*e}function o(n,t){var r,e=n[0],o=n[1],i=t[0],a=t[1];return o<e&&(r=e,e=o,o=r),a<i&&(r=i,i=a,a=r),e===i&&o===a}var i=n("./hashmap"),a=n("./extract"),u=n("./cut"),c=n("./dedup");t.exports=function(n){function t(n){n&&p.hasOwnProperty(n.type)&&p[n.type](n)}function r(n){var t=[];do{var r=h.get(n);t.push(n[0]<n[1]?r:~r)}while(n=n.next);return t}function f(n){return n.map(r)}var s=c(u(a(n))),l=s.coordinates,h=i(1.4*s.arcs.length,e,o);n=s.objects,s.arcs=s.arcs.map(function(n,t){return h.set(n,t),l.slice(n[0],n[1]+1)}),delete s.coordinates,l=null;var p={GeometryCollection:function(n){n.geometries.forEach(t)},LineString:function(n){n.arcs=r(n.arcs)},MultiLineString:function(n){n.arcs=n.arcs.map(r)},Polygon:function(n){n.arcs=n.arcs.map(r)},MultiPolygon:function(n){n.arcs=n.arcs.map(f)}};for(var g in n)t(n[g]);return s}},{"./cut":16,"./dedup":17,"./extract":18,"./hashmap":19}],22:[function(n,t,r){var e=n("./hashset"),o=n("./hashmap"),i=n("./point-hash"),a=n("./point-equal");t.exports=function(n){function t(n,t,r,e){if(p[r]!==n){p[r]=n;var o=g[r];if(o>=0){var i=v[r];o===t&&i===e||o===e&&i===t||(++y,d[r]=1)}else g[r]=t,v[r]=e}}function r(){for(var n=o(1.4*f.length,u,c,Int32Array,-1,Int32Array),t=new Int32Array(f.length),r=0,e=f.length;r<e;++r)t[r]=n.maybeSet(r,r);return t}function u(n){return i(f[n])}function c(n,t){return a(f[n],f[t])}for(var f=n.coordinates,s=n.lines,l=n.rings,h=r(),p=new Int32Array(f.length),g=new Int32Array(f.length),v=new Int32Array(f.length),d=new Int8Array(f.length),y=0,m=0,M=f.length;m<M;++m)p[m]=g[m]=v[m]=-1;for(var m=0,M=s.length;m<M;++m){var w,E=s[m],x=E[0],P=E[1],b=h[x],q=h[++x];for(++y,d[b]=1;++x<=P;)t(m,w=b,b=q,q=h[x]);++y,d[q]=1}for(var m=0,M=f.length;m<M;++m)p[m]=-1;for(var m=0,M=l.length;m<M;++m){var L=l[m],j=L[0]+1,F=L[1],w=h[F-1],b=h[j-1],q=h[j];for(t(m,w,b,q);++j<=F;)t(m,w=b,b=q,q=h[j])}p=g=v=null;for(var S,A=e(1.4*y,i,a),m=0,M=f.length;m<M;++m)d[S=h[m]]&&A.add(f[S]);return A}},{"./hashmap":19,"./hashset":20,"./point-equal":23,"./point-hash":24}],23:[function(n,t,r){t.exports=function(n,t){return n[0]===t[0]&&n[1]===t[1]}},{}],24:[function(n,t,r){var e=new ArrayBuffer(16),o=new Float64Array(e),i=new Uint32Array(e);t.exports=function(n){o[0]=n[0],o[1]=n[1];var t=i[0]^i[1];return t=t<<5^t>>7^i[2]^i[3],2147483647&t}},{}],25:[function(n,t,r){t.exports=function(n,t){function r(n){n&&o.hasOwnProperty(n.type)&&o[n.type](n)}function e(n){null==n.properties&&(n.properties={});var r=n.properties=t(n);if(r)for(var e in r)return;delete n.properties}arguments.length<2&&(t=function(){});var o={Feature:e,FeatureCollection:function(n){n.features.forEach(e)}};for(var i in n)r(n[i]);return n}},{}],26:[function(n,t,r){t.exports=function(n){for(var t in e)t in n||(n[t]=e[t]);return n.defaults=e,n};var e={Feature:function(n){n.geometry&&this.geometry(n.geometry)},FeatureCollection:function(n){for(var t=n.features,r=-1,e=t.length;++r<e;)this.Feature(t[r])},GeometryCollection:function(n){for(var t=n.geometries,r=-1,e=t.length;++r<e;)this.geometry(t[r])},LineString:function(n){this.line(n.coordinates)},MultiLineString:function(n){for(var t=n.coordinates,r=-1,e=t.length;++r<e;)this.line(t[r])},MultiPoint:function(n){for(var t=n.coordinates,r=-1,e=t.length;++r<e;)this.point(t[r])},MultiPolygon:function(n){for(var t=n.coordinates,r=-1,e=t.length;++r<e;)this.polygon(t[r])},Point:function(n){this.point(n.coordinates)},Polygon:function(n){this.polygon(n.coordinates)},object:function(n){return null==n?null:i.hasOwnProperty(n.type)?this[n.type](n):this.geometry(n)},geometry:function(n){return null==n?null:o.hasOwnProperty(n.type)?this[n.type](n):null},point:function(){},line:function(n){for(var t=-1,r=n.length;++t<r;)this.point(n[t])},polygon:function(n){for(var t=-1,r=n.length;++t<r;)this.line(n[t])}},o={LineString:1,MultiLineString:1,MultiPoint:1,MultiPolygon:1,Point:1,Polygon:1,GeometryCollection:1},i={Feature:1,FeatureCollection:1}},{}]},{},[1]);